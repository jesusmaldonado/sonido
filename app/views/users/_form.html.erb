<% action_url = (action == :new ? users_url : user_url(@user)) %>
<% user_form_value = (action == :new ? "Sign Up" : "Edit User") %>

<form action="<%= action_url %>" method="post">
  <%= auth_token %>
  <% if action == :edit %>
  <input type="hidden" name="_method" value="patch">
  <% end %>

  <label for="username">Username</label>
  <input type="text" name="user[username]" id="username" value="<%= user.username %>">
  <br>
  <label for="password">Password</label>
  <input type="password" name="user[password]" id="password">
  <br>
  <label for="email"> Email </label>
  <input type="text" name="user[email]" value="<%= user.email %>">

  <% if action == :new %>
  <br>
  <label for="accounttype">Account Type (Can Only Choose Once!)</label>
  <select id="accounttype" name="user[account_type]">
    <option value="listener">Listener</option>
    <option value="artist">Artist</option>
  </select>
  <br>
  <% end %>
  <input type="submit" value="<%= user_form_value %>">
</form>
